{
  "featurePrefix": "weather",
  "generatedAt": "2025-01-08T12:00:00.000Z",
  "smokeTests": [
    {
      "id": "smoke-001",
      "title": "Backend returns weather for valid zipcode",
      "platform": "backend",
      "epicId": "epic-backend-core",
      "global": true,
      "enabledWhen": { "requirementCompleted": "weather-008" },
      "preconditions": [
        "Backend server running",
        "Valid OPENWEATHERMAP_API_KEY configured"
      ],
      "steps": [
        "curl:GET /health expect=200",
        "curl:GET /api/weather?zipcode=90210 expect=200",
        "assertJsonField:temperature exists",
        "assertJsonField:condition exists",
        "assertJsonField:humidity exists",
        "assertJsonField:windSpeed exists",
        "assertJsonField:locationName exists"
      ]
    },
    {
      "id": "smoke-002",
      "title": "Backend returns error for invalid zipcode",
      "platform": "backend",
      "epicId": "epic-backend-core",
      "global": false,
      "enabledWhen": { "requirementCompleted": "weather-009" },
      "preconditions": [
        "Backend server running"
      ],
      "steps": [
        "curl:GET /api/weather?zipcode=00000 expect=404",
        "assertJsonField:error exists",
        "curl:GET /api/weather?zipcode=abc expect=400",
        "assertJsonField:error exists",
        "curl:GET /api/weather expect=400",
        "assertJsonField:error exists"
      ]
    },
    {
      "id": "smoke-003",
      "title": "Frontend displays weather for valid zipcode",
      "platform": "both",
      "epicId": "epic-frontend-core",
      "global": true,
      "enabledWhen": { "requirementCompleted": "weather-025" },
      "preconditions": [
        "Backend server running with valid API key",
        "Frontend dev server running"
      ],
      "steps": [
        "navigate:url=http://localhost:5173",
        "assertVisible:testId=zipcode-input",
        "assertVisible:testId=submit-button",
        "type:testId=zipcode-input value=90210",
        "tap:testId=submit-button",
        "wait:ms=2000",
        "assertVisible:testId=weather-card",
        "screenshot:name=weather-results"
      ]
    },
    {
      "id": "smoke-004",
      "title": "Frontend displays error for invalid zipcode",
      "platform": "both",
      "epicId": "epic-frontend-core",
      "global": false,
      "enabledWhen": { "requirementCompleted": "weather-025" },
      "preconditions": [
        "Backend server running",
        "Frontend dev server running"
      ],
      "steps": [
        "navigate:url=http://localhost:5173",
        "type:testId=zipcode-input value=00000",
        "tap:testId=submit-button",
        "wait:ms=2000",
        "assertVisible:testId=error-message",
        "screenshot:name=error-display"
      ]
    },
    {
      "id": "smoke-005",
      "title": "Frontend responsive layout works",
      "platform": "both",
      "epicId": "epic-styling",
      "global": false,
      "enabledWhen": { "requirementCompleted": "weather-032" },
      "preconditions": [
        "Frontend dev server running"
      ],
      "steps": [
        "navigate:url=http://localhost:5173",
        "setViewport:width=375 height=667",
        "screenshot:name=mobile-layout",
        "setViewport:width=1280 height=800",
        "screenshot:name=desktop-layout",
        "assertVisible:testId=zipcode-input",
        "assertVisible:testId=submit-button"
      ]
    }
  ]
}
